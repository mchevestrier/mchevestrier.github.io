import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.BVOCwoKb.js";function m(t,n){return t.toString(2).padStart(n,"0").split("").map(Number).map(Boolean)}function f(t){return window.matchMedia("(prefers-color-scheme: dark)").matches?t?"":"◼":t?"✅":"◻️"}const p=8,h=32,b=3;function k({axiom:t,active:n,onChange:s}){return e.jsxs(e.Fragment,{children:[m(t,b).map(f),e.jsx("br",{}),e.jsx("button",{type:"button",onClick:()=>s(),children:f(n)})]})}function v(t,n){return!!Number(m(n,p)[t])}function y(t){return[...Array(t).keys()]}function A(t,n,s){const c=[];for(let a=t;a<=n;a++){const i=s.at(a%s.length);typeof i<"u"&&c.push(i)}return c}function j(t){const n=t.map(s=>s?"1":"0").join("");return parseInt(n,2)}function S(t,n){const s=m(t,h),c=Array(h).fill(0),a=m(n,p),i=(b-1)/2;return s.forEach((g,d)=>{const r=A(d-i,d+i,s),o=j(r),l=p-1;c[d]=a[l-o]}),j(c)}const C=[7,6,5,4,3,2,1,0],R=16,B=326913521;function M({rule:t}){const[n,s]=x.useState(t),[c,a]=x.useState(B),i=x.useMemo(()=>{const r=[];let o=c;for(const l of y(R))r.push(o),o=S(o,n);return r},[n,c]);function g(r){s(o=>{const u=2**(p-1-r);return o^u})}function d(r){console.log({i:r}),a(o=>{const u=2**(h-1-r);return console.log({mask:u}),o^u})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Rule ",n]}),e.jsxs("table",{border:0,children:[e.jsx("thead",{children:e.jsx("tr",{children:C.map((r,o)=>e.jsx("td",{colSpan:Math.ceil(h/p),children:e.jsx(k,{axiom:r,active:v(o,n),onChange:()=>g(o)})},o))})}),e.jsx("tbody",{children:i.map((r,o)=>e.jsx("tr",{children:m(r,h).map((l,u)=>e.jsx("td",{children:e.jsx("button",{type:"button",onClick:()=>d(u),children:f(l)})},u))},o))})]})]})}export{M as default};
